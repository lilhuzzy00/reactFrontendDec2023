{"version":3,"sources":["config.js","auth/index.js","core/Menu.js","core/CartHelper.js","core/Footer.js","core/Layout.js","user/Signup.js","user/Signin.js","core/ApiCore.js","core/ShowImage.js","core/Card.js","core/Home.js","auth/PrivateRoute.js","user/UserDashboard.js","user/ApiUser.js","auth/AdminRoute.js","user/AdminDashboard.js","Admin/ApiAdmin.js","Admin/AddCategory.js","Admin/AddProduct.js","core/Checkbox.js","core/RadioBox.js","core/FixedPrices.js","core/Shop.js","core/ShowPhoto.js","core/Product.js","core/Checkout.js","core/Cart.js","Admin/ManageProducts.js","Admin/UpdateProducts.js","user/Profile.js","Admin/Orders.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","isActive","history","path","location","pathname","color","background","withRouter","className","to","variant","style","type","id","length","user","role","cursor","onClick","next","removeItem","fetch","method","then","response","console","log","catch","error","signout","push","Footer","Layout","title","description","children","src","Signup","useState","name","email","password","success","values","setValues","handleChange","Name","event","target","value","clickSubmit","preventDefault","headers","Accept","body","stringify","json","data","Helmet","charSet","content","display","margin","backgroundColor","padding","borderRadius","fontSize","onChange","redirectUser","Signin","loading","redirectToReferrer","signin","setItem","authenticate","getFilteredProducts","skip","limit","filters","productByCategory","categoryId","ShowImage","item","url","_id","alt","maxWidth","maxHeight","Card","product","showDisplayButton","addToCartButton","cartUpdate","showRemoveProductButton","setRun","f","run","undefined","redirect","setRedirect","count","setCount","productId","cart","map","i","updateItem","addToCart","Array","from","Set","p","find","addItem","shoudRedirect","paddingLeft","price","showCartUpdate","width","border","splice","showRemoveButton","cartButton","Home","productsByArrival","setProductsByArrival","gentShoes","setGentShoes","shirts","setShirts","trouser","setTrousers","setError","loadProductsByArrival","sortBy","useEffect","property","fontWeight","PrivateRoute","Component","component","rest","render","props","state","Dashboard","setHistory","token","init","userId","Authorization","getPurchaseHistory","Description","h","products","moment","createdAt","fromNow","purchaseHistory","AdminRoute","AdminDashboard","getCategories","AddCategory","setName","setSuccess","e","category","createCategory","showSuccess","showErrors","marginTop","marginBottom","onSubmit","autoFocus","required","AddProduct","categories","shipping","quantity","photo","createdProduct","redirectToProfile","formData","FormData","files","set","createProduct","accept","height","c","Checkbox","handleFilters","checked","setChecked","handleToggle","currentCategoryId","indexOf","newCheckedCategoryId","RadioBox","prices","setValue","array","Shop","myFilters","setMyFilter","setCategories","setSkip","filteredResults","setFilteredResults","size","setSize","loadFilteredResults","newFilters","loadMore","toSkip","filterBy","priceValues","handlePrice","key","parseInt","ShowPhoto","Products","setProduct","related","setRelated","singleProduct","read","listRelated","match","params","paddingTop","paddingBottom","textAlign","Checkout","clientToken","instance","address","setData","getToken","braintreeClientToken","handleAddress","getTotal","reduce","currentValue","nextValue","deliveryAddress","buy","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","processPayment","createOrderData","transaction_id","transaction","order","createOrder","message","showDropIn","onBlur","placeholder","options","authorization","paypal","flow","onInstance","Cart","items","getAllItemsInCart","ManageProducts","setProducts","loadProducts","destroy","deleteProduct","UpdateProduct","getProduct","initCategories","updateProduct","redirectToReferer","Profile","update","auth","updateUser","profileUpdate","Orders","orders","setOrders","statusValues","setStatusValues","loadOrders","listOrders","loadStatusValues","getStatusValues","showInput","readOnly","handlesStatusChange","orderId","status","updateOrderStatus","showStatus","o","index","oIndex","borderBottom","pIndex","Routes","exact","Product","UpdateProducts","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.477dfc53.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_API_URL","import {API} from \"../config\"\r\n\r\n\r\nexport const signup = user => {\r\n\t\t\treturn fetch(`${API}/signup`, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify(user)\r\n\t\t\t})\r\n\t\t\t.then(response =>{\r\n\t\t\t\treturn response.json()\r\n\t\t\t})\r\n\t\t\t.catch(error =>{\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\r\n\r\n\r\nexport const signin = user => {\r\n\t\t\treturn fetch(`${API}/signin`, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify(user)\r\n\t\t\t})\r\n\t\t\t.then(response =>{\r\n\t\t\t\treturn response.json()\r\n\t\t\t})\r\n\t\t\t.catch(error =>{\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\r\n\r\nexport const authenticate = (data, next) => {\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tlocalStorage.setItem(\"jwt\", JSON.stringify(data))\r\n\t\tnext()\r\n\t}\r\n}\r\n\r\nexport const signout = next => {\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tlocalStorage.removeItem(\"jwt\")\r\n\t\tnext()\r\n\t\treturn fetch(`${API}/signout`, {\r\n\t\t\tmethod: \"GET\"\r\n\t\t})\r\n\t\t.then(response =>{\r\n\t\t\tconsole.log(\"signout\", response)\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n\t}\r\n}\r\n\r\n\r\nexport const isAuthenticated = () =>{\r\n\tif(typeof window == \"undefined\"){\r\n\t\treturn false\r\n\t}\r\n\tif(localStorage.getItem(\"jwt\")){\r\n\t\treturn JSON.parse(localStorage.getItem(\"jwt\"))\r\n\t} else{\r\n\t\treturn false\r\n\t}\r\n}\r\n","import React,{ Fragment } from \"react\"\r\nimport { Link, withRouter } from \"react-router-dom\"\r\nimport { signout, isAuthenticated } from \"../auth\"\r\nimport {itemTotal} from \"./CartHelper\"\r\nimport \"./menu.css\"\r\n\r\n\r\nconst isActive = (history, path) =>{\r\n\tif(history.location.pathname === path){\r\n\t\treturn {color: \"black\", background: \"orange\"}\r\n\t} else{\r\n\t\treturn {color: \"#ffffff\"}\r\n\t}\r\n}\r\n\r\nconst Menu =({history})=>{\r\n\r\n\r\n\treturn(\r\n\t\t\r\n\t\t\t<nav className=\"navbar navbar-expand-lg navbar-light bg-dark\" >\r\n\t\t\t\t  <Link className=\"navbar-brand\" to=\"/\" variant=\"dark\" style={{color: \"white\"}}>HOUSE OF GOODIZ</Link>\r\n\t\t\t\t  <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n\t\t\t\t    <span ><i className=\"fas fa-bars\" style={{color: \"white\"}}></i></span>\r\n\t\t\t\t  </button>\r\n\t\t\t\t  <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n\t\t\t\t    <ul className=\"navbar-nav ml-auto\">\r\n\t\t\t\t      \r\n\t\t\t\t      <li className=\"nav-item\">\r\n\t\t\t\t\t\t\t<Link style={ isActive(history, \"/shop\") }className=\"nav-link\" to=\"/shop\">Shop</Link>\r\n\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t<Link style={ isActive(history, \"/cart\") }\r\n\t\t\t\t\t\t\t\tclassName=\"nav-link\" \r\n\t\t\t\t\t\t\t\tto=\"/cart\"><i className=\"fas fa-shopping-cart\"></i> Cart\r\n\t\t\t\t\t\t\t\t<sup>\r\n\t\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t{itemTotal()}<\r\n\t\t\t\t\t\t\t\t/small>\r\n\t\t\t\t\t\t\t\t</sup>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t      {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n\r\n\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t<Link style={ isActive(history, \"/user/dashboard\")} className=\"nav-link\" to=\"/user/dashboard\">Dashboard</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n\r\n\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t<Link style={ isActive(history, \"/admin/dashboard\")} className=\"nav-link\" to=\"/admin/dashboard\"><i className=\"fas fa-user-lock\" ></i> Admin</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t      {!isAuthenticated() && (\r\n\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t<Link style={ isActive(history, \"/signup\")} className=\"nav-link\" to=\"/signup\">Signup</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t<Link style={ isActive(history, \"/signin\")} className=\"nav-link\" to=\"/signin\">Signin</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t       {isAuthenticated() && (\r\n\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t<span style={{ cursor: \"pointer\", color: \"white\"}} className=\"nav-link\" onClick={() => signout(() =>{\r\n\t\t\t\t\t\t\t\t\thistory.push(\"/\")\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tSignout\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t    </ul>\r\n\t\t\t\t  </div>\r\n\t\t\t</nav>\r\n\t)\r\n}\r\n\r\n\r\nexport default withRouter(Menu)\r\n","export const addItem = (item, next) =>{\r\n\tlet cart = []\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tif(localStorage.getItem(\"cart\")){\r\n\t\t\tcart = JSON.parse(localStorage.getItem(\"cart\"))\r\n\t\t}\r\n\t\tcart.push({\r\n\t\t\t...item,\r\n\t\t\tcount: 1\r\n\t\t})\r\n\r\n\t\tcart = Array.from(new Set(cart.map((p) => p._id))).map(id => {\r\n\t\t\treturn cart.find(p => p._id === id)\r\n\t\t})\r\n\t\tlocalStorage.setItem(\"cart\", JSON.stringify(cart))\r\n\t\tnext()\r\n\t}\r\n}\r\n\r\n\r\nexport const itemTotal = () =>{\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tif(localStorage.getItem(\"cart\")){\r\n\t\t\treturn JSON.parse(localStorage.getItem(\"cart\")).length\r\n\t\t}\r\n\t}\r\n\treturn 0\r\n}\r\n\r\n\r\n\r\n\r\nexport const getCart = () =>{\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tif(localStorage.getItem(\"cart\")){\r\n\t\t\treturn JSON.parse(localStorage.getItem(\"cart\"))\r\n\t\t}\r\n\t}\r\n\treturn []\r\n}\r\n\r\nexport const updateItem = (productId, count) =>{\r\n\tlet cart = []\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tif(localStorage.getItem(\"cart\")){\r\n\t\t\tcart = JSON.parse(localStorage.getItem(\"cart\"))\r\n\t\t}\r\n\r\n\t\tcart.map((product, i)=>{\r\n\t\t\tif(product._id === productId){\r\n\t\t\t\tcart[i].count = count\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tlocalStorage.setItem(\"cart\", JSON.stringify(cart))\r\n\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport const removeItem = (productId) =>{\r\n\tlet cart = []\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tif(localStorage.getItem(\"cart\")){\r\n\t\t\tcart = JSON.parse(localStorage.getItem(\"cart\"))\r\n\t\t}\r\n\r\n\t\tcart.map((product, i)=>{\r\n\t\t\tif(product._id === productId){\r\n\t\t\t\tcart.splice(i, 1)\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tlocalStorage.setItem(\"cart\", JSON.stringify(cart))\r\n\r\n\t}\r\n\r\n\treturn cart\r\n}\r\n\r\n\r\nexport const emptyCart = (next) =>{\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tlocalStorage.removeItem(\"cart\");\r\n\t\tnext();\r\n\t}\r\n}\r\n","import React from \"react\";\r\nimport \"./Card.css\"\r\nimport \"./footer.css\"\r\n\r\n\r\nconst Footer = () => {\r\n\treturn(\r\n\t\t<div className=\"footer\">\r\n\t\t\t<div className=\"copyright\">\r\n\t\t\t\t<p style={{color: \"white\"}}>Copyright &copy; 2021</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Footer;","import React from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\nimport Menu from \"./Menu\" \r\nimport Footer from \"./Footer\" \r\nimport \"./menu.css\"\r\nimport \"./Card.css\"\r\n\r\nconst Layout = ({\r\n\ttitle=\"title\", \r\n\tdescription=\"description\", \r\n\tclassName, \r\n\tchildren\r\n}) => (\r\n\t\t<div>\r\n\t\t\t<Menu />\r\n\t\t\t\r\n\t\t\t<div className=\"Header\">\r\n\t\t\t\t<div className=\"Header2\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h1>Shopping Made Easy With <br/>House Of Goodies</h1>\r\n\t\t\t\t\t\t<button className=\"btn btn-lg btn-primary\">Get Started</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<img src=\"/images/image.png\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={className}>{children}</div>\r\n\t\t\t<Footer />\r\n\r\n\t\t</div>\r\n);\r\n\r\nexport default Layout","import React, {useState} from \"react\"\r\nimport { Link, Redirect } from \"react-router-dom\"\r\nimport Layout from \"../core/Layout\"\r\nimport { signup } from \"../auth\"\r\nimport {Helmet} from \"react-helmet\"\r\n\r\n\r\nconst Signup = () =>{\r\n\r\n\tconst [values, setValues] = useState({\r\n\t\t\tname: \"\",\r\n\t\t\temail: \"\",\r\n\t\t\tpassword: \"\",\r\n\t\t\terror: \"\",\r\n\t\t\tsuccess: false\r\n\t})\r\n\r\n\t\t const { name, email, password, success, error } = values;\r\n\r\n\r\n\t\tconst handleChange = Name => event => {\r\n\t\t\tsetValues({...values, error: false, [Name]: event.target.value})\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\t const clickSubmit = event =>{\r\n\t\t \tevent.preventDefault()\r\n\t\t \tsetValues({...values, error: false})\r\n\t\t\tsignup({name, email, password})\r\n\t\t\t\t.then(data =>{\r\n\t\t\t\t\tif(data.error){\r\n\t\t\t\t\t\tsetValues({...values, error: data.error, success: false})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetValues({\r\n\t\t\t\t\t\t...values, \r\n\t\t\t\t\t\tname:\"\",\r\n\t\t\t\t\t\temail:\"\",\r\n\t\t\t\t\t\tpassword:\"\",\r\n\t\t\t\t\t\terror: \"\",\r\n\t\t\t\t\t\tsuccess: true \r\n\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t \t}\r\n\r\n\t \t\t\r\n\r\n\tconst signUpForm = () =>(\r\n\r\n\t\t<form style={{margin: \"20px\", backgroundColor:\"black\", padding: \"20px\", borderRadius: \"7px\"}}>\r\n\t\t\t<div className=\"text-center mb-3\" style={{color: \"white\", fontSize: \"20px\"}}><strong>Signup Form</strong></div>\r\n\t\t\t\t  <div className=\"mb-3\">\r\n\t\t\t\t\t    <label className=\"form-label\" style={{color: \"white\"}}>Name</label>\r\n\t\t\t\t\t    <input onChange={handleChange(\"name\")} type=\"text\" className=\"form-control\" value={name} />\r\n\t\t\t\t  </div>\r\n\r\n\t\t\t\t  <div className=\"mb-3\">\r\n\t\t\t\t\t    <label className=\"form-label\" style={{color: \"white\"}}>Email</label>\r\n\t\t\t\t\t    <input onChange={handleChange(\"email\")} type=\"email\" className=\"form-control\" value={email} />\r\n\t\t\t\t  </div>\r\n\r\n\t\t\t\t  <div className=\"mb-3\">\r\n\t\t\t\t\t    <label className=\"form-label\" style={{color: \"white\"}}>Password</label>\r\n\t\t\t\t\t    <input onChange={handleChange(\"password\")} type=\"password\" className=\"form-control\"  value={password}/>\r\n\t\t\t\t  </div>\r\n\r\n\t\t\t\t  <button onClick={clickSubmit} type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n\t\t</form>\r\n\r\n\r\n\t);\r\n\r\n\tconst showSuccess = () =>(\r\n\t \t<div className=\"alert alert-info\" style={{display: success ? \"\" : \"none\" }}><h5>Signup successful. Please <Link to=\"/signin\">Signin</Link></h5></div>\r\n\t)\r\n\r\n\tconst showError = () =>(\r\n\t \t<div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\" }} >{ error }</div>\r\n\t)\r\n\r\n\tconst redirectUser = (success) => {\r\n\t\tif(success){\r\n\t\t\treturn <Redirect to=\"/signin\" />\r\n\t\t}\r\n\t}\r\n\r\n\r\n\treturn(\r\n\t\t<Layout \r\n\t\t\ttitle=\"Signup page\" \r\n\t\t\tdescription=\"Signup to node js app\"\r\n\t\t\tclassName=\"container col-md-4 offset-md-4\"\r\n\t\t>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<meta charSet=\"utf-8\" />\r\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n\t\t\t\t<title>Register</title>\r\n\t\t\t\t<meta name=\"description\" content=\"Signup here to continue shopping\"/>\r\n\t\t\t</Helmet>\r\n\t\t\t{showSuccess()}\r\n\t\t\t{showError()}\r\n\t\t\t{signUpForm()}\r\n\t\t\t{redirectUser(success)}\r\n\t\t</Layout>\r\n\t)\r\n\r\n}\r\n\r\n\r\nexport default Signup","import React, {useState} from \"react\"\r\nimport { Redirect } from \"react-router-dom\"\r\nimport Layout from \"../core/Layout\"\r\nimport { signin, authenticate, isAuthenticated } from \"../auth\"\r\nimport {Helmet} from \"react-helmet\"\r\n\r\n\r\nconst Signin = () =>{\r\n\t\r\n\r\n\tconst [values, setValues] = useState({\r\n\t\t\temail: \"\",\r\n\t\t\tpassword: \"\",\r\n\t\t\terror: \"\",\r\n\t\t\tloading: false,\r\n\t\t\tredirectToReferrer: false\r\n\t})\r\n\r\n\t\t const { email, password, error, loading, redirectToReferrer } = values;\r\n\t\t const {user} = isAuthenticated();\r\n\r\n\r\n\t\tconst handleChange = Name => event => {\r\n\t\t\tsetValues({...values, error: false, [Name]: event.target.value})\r\n\t\t}\r\n\t\t\r\n\r\n\t\tconst clickSubmit = event =>{\r\n\t\t \tevent.preventDefault()\r\n\t\t \tsetValues({...values, error: false, loading: true})\r\n\t\t\tsignin({ email, password })\r\n\t\t\t\t.then(data =>{\r\n\t\t\t\t\tif(data.error){\r\n\t\t\t\t\t\tsetValues({...values, error: data.error, loading: false })\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tauthenticate(data, ()=>{\r\n\t\t\t\t\t\t\tsetValues({\r\n\t\t\t\t\t\t\t\t...values, \r\n\t\t\t\t\t\t\t\tredirectToReferrer: true\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t \t}\r\n\r\n\t \t\t\r\n\r\n\tconst signUpForm = () =>(\r\n\r\n\t\t<form style={{margin: \"20px\", backgroundColor:\"black\", padding: \"20px\", borderRadius: \"7px\"}}>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"text-center mb-3\" style={{color: \"white\", fontSize: \"20px\"}}><strong>Signin Form</strong></div>\r\n\t\t\t\t  <div className=\"mb-3\">\r\n\t\t\t\t\t    <label className=\"form-label\" style={{color: \"white\"}}>Email</label>\r\n\t\t\t\t\t    <input onChange={handleChange(\"email\")} type=\"email\" className=\"form-control\" value={email} />\r\n\t\t\t\t  </div>\r\n\r\n\t\t\t\t  <div className=\"mb-3\">\r\n\t\t\t\t\t    <label className=\"form-label\" style={{color: \"white\"}}>Password</label>\r\n\t\t\t\t\t    <input onChange={handleChange(\"password\")} type=\"password\" className=\"form-control\"  value={password}/>\r\n\t\t\t\t  </div>\r\n\r\n\t\t\t\t  <button onClick={clickSubmit} type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n\t\t</form>\r\n\r\n\r\n\t);\r\n\r\n\tconst showError = () =>(\r\n\t \t<div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\" }}>{error}</div>\r\n\t)\r\n\r\n\tconst showLoading = () =>(\r\n\t \tloading && (<div className=\"alert alert-info\"><strong>Loading...</strong></div>)\r\n\t)\r\n\r\n\tconst redirectUser = () =>{\r\n\t\tif(redirectToReferrer){\r\n\t\t\tif(user && user.role === 1){\r\n\t\t\t\treturn <Redirect to=\"/admin/dashboard\" />\r\n\t\t\t} else{\r\n\t\t\t\treturn <Redirect to=\"/user/dashboard\" />\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// let intended = history.location.state;\r\n\t// console.log(\"intended\", intended);\r\n\t// if(intended) history.push(intended.from);\r\n\t// else history.push(\"/cart\");\r\n\r\n\treturn(\r\n\t\t<Layout className=\"container col-md-4 offset-md-4\">\r\n\t\t\t<Helmet>\r\n\t\t\t\t<meta charSet=\"utf-8\" />\r\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n\t\t\t\t<title>Sign in</title>\r\n\t\t\t\t<meta name=\"description\" content=\"Signin here to continue shopping\"/>\r\n\t\t\t</Helmet>\r\n\t\t\t{redirectUser()}\r\n\t\t\t{showLoading()}\r\n\t\t\t{showError()}\r\n\t\t\t{signUpForm()}\r\n\t\t</Layout>\r\n\t)\r\n}\r\n\r\n\r\nexport default Signin","import {API} from \"../config\"\r\nimport queryString from \"query-string\"\r\n\r\n\r\nexport const getProducts = (sortBy) =>{\r\n\treturn fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=4`, {\r\n\t\tmethod: \"GET\"\r\n\t})\r\n\t\t.then(response =>{\r\n\t\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error => console.log(error))\r\n}\r\n\r\n\r\nexport const getCategories = () => {\r\n\treturn fetch(`${API}/categories`, {\r\n\t\tmethod: \"GET\"\r\n\t\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\n\r\n\r\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\r\n\t\t\tconst data = {\r\n\t\t\t\tskip, \r\n\t\t\t\tlimit, \r\n\t\t\t\tfilters\r\n\t\t\t};\r\n\r\n\t\t\treturn fetch(`${API}/products/by/search`, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify(data)\r\n\t\t\t})\r\n\t\t\t.then(response =>{\r\n\t\t\t\treturn response.json()\r\n\t\t\t})\r\n\t\t\t.catch(error =>{\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const list = params => {\r\n\tconst query = queryString.stringify(params)\r\n\tconsole.log(\"query\", query)\r\n\treturn fetch(`${API}/products/search?${query}`, {\r\n\t\tmethod: \"GET\"\r\n\t\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\n\r\nexport const read = (productId) => {\r\n\treturn fetch(`${API}/product/${productId}`, {\r\n\t\tmethod: \"GET\"\r\n\t\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\nexport const listRelated = (productId) => {\r\n\treturn fetch(`${API}/products/related/${productId}`, {\r\n\t\tmethod: \"GET\"\r\n\t\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\n\r\n\r\nexport const braintreeClientToken = (userId, token) => {\r\n\treturn fetch(`${API}/braintree/getToken/${userId}`, {\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t}\r\n\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\n\r\nexport const processPayment = (userId, token, paymentData) => {\r\n\treturn fetch(`${API}/braintree/payment/${userId}`, {\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t},\r\n\t\tbody: JSON.stringify(paymentData)\r\n\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\n\r\n\r\nexport const createOrder = (userId, token, createOrderData) => {\r\n\treturn fetch(`${API}/order/create/${userId}`, {\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t},\r\n\t\tbody: JSON.stringify({order: createOrderData})\r\n\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\n\r\nexport const productByCategory = (categoryId) => {\r\n\tconsole.log(\"category\", categoryId)\r\n\treturn fetch(`${API}/products-by-category/${categoryId}`, {\r\n\t\tmethod: \"GET\"\r\n\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}","import React, {useState} from \"react\"\r\nimport {API} from \"../config\"\r\n\r\n\r\nconst ShowImage = ({item, url}) =>{\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t<img \r\n\t\t\t\tsrc={`${API}/${url}/photo/${item._id}`}\r\n\t\t\t\talt={item.name}\r\n\t\t\t\tclassName=\"mb-3\"\r\n\t\t\t\tstyle={{maxWidth: \"100%\", maxHeight: \"100%\"}}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ShowImage","import React, {useState} from \"react\"\r\nimport {Link, Redirect} from \"react-router-dom\"\r\nimport ShowImage from \"./ShowImage\"\r\nimport \"./Card.css\"\r\nimport { addItem, updateItem, removeItem } from \"./CartHelper\"\r\n\r\n\tconst Card = ({\r\n\t\tproduct, \r\n\t\tshowDisplayButton = true, \r\n\t\taddToCartButton = true, \r\n\t\tcartUpdate = false, \r\n\t\tshowRemoveProductButton = false,\r\n\t\tsetRun = f => f,\r\n\t\trun = undefined \r\n\t}) =>{\r\n\r\n\t\tconst [redirect, setRedirect] = useState(false)\r\n\t\tconst [count, setCount] = useState(product.count)\r\n\r\n\r\n\t\tconst ShowViewButton = (showDisplayButton) =>(\r\n\t\t\tshowDisplayButton && (\r\n\t\t\t\t<Link to={`/product/${product._id}`}>\r\n\t\t\t\t\t<button style={{width: \"114px\",  \r\n\t\t\t\t\t\tcolor: \"white\", \r\n\t\t\t\t\t\tborder: \"none\", \r\n\t\t\t\t\t\tbackground: \"gray\",\r\n\t\t\t\t\t\tmargin: \"4px\",\r\n\t\t\t\t\t\tborderRadius: \"4px\"\r\n\t\t\t\t\t}}>Read More</button>\r\n\t\t\t\t</Link>\r\n\t\t\t)\r\n\t\t)\r\n\r\n\r\n\t\t//This function removes cart button in the cart page from the card component.\r\n\r\n\r\n\t\tconst cartButton = (addToCartButton) => {\r\n\t\t\treturn(\r\n\t\t\t\taddToCartButton && (\r\n\t\t\t\t<button style={{width: \"110px\",  \r\n\t\t\t\t\t\tcolor: \"#007185\", \r\n\t\t\t\t\t\tborder: \"none\", \r\n\t\t\t\t\t\tbackground: \"none\",\r\n\t\t\t\t\t\tmargin: \"4px\",\r\n\t\t\t\t\t\tborderRadius: \"4px\"\r\n\t\t\t\t\t}} onClick={addToCart}>Shop Now ></button>\r\n\t\t\t\t) \r\n\t\t\t)\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t//This function removes the increment/decrement button at the cart page in the home page but shows it in the add to cart page\r\n\r\n\t\tconst handleChange = productId => event => {\r\n\t\t\tsetRun(!run)\r\n\t\t\tsetCount(event.target.value < 1 ? 1 : event.target.value)\r\n\t\t\tif(event.target.value >= 1){\r\n\t\t\t\tupdateItem(productId, event.target.value)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst showCartUpdate = (cartUpdate) => {\r\n\t\t\treturn (\r\n\t\t\t\tcartUpdate && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t<span className=\"input-group-text\">Qty</span>\r\n\t\t\t\t\t\t\t</div> \r\n\t\t\t\t\t\t\t\t<span className=\"inputNumber\"><input type=\"number\" className=\"form-control\" value={count} onChange={handleChange(product._id)} /></span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\r\n\r\n\r\n\t\tconst showRemoveButton = (showRemoveProductButton) => {\r\n\t\t\treturn(\r\n\t\t\t\tshowRemoveProductButton && (\r\n\t\t\t\t<button \r\n\t\t\t\t\tstyle={{width: \"140px\", \r\n\t\t\t\t\t\t\tborderRadius: \"4px\", \r\n\t\t\t\t\t\t\tcolor: \"white\", \r\n\t\t\t\t\t\t\tborder: \"none\",  \r\n\t\t\t\t\t\t\tbackgroundColor: \"red\"}} \r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tremoveItem(product._id)\r\n\t\t\t\t\t\tsetRun(!run)\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\tRemove Product\r\n\r\n\t\t\t\t</button>\r\n\t\t\t\t) \r\n\t\t\t)\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tconst addToCart = () =>{\r\n\t\t\taddItem(product, ()=>{\r\n\t\t\t\tsetRedirect(true)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tconst shoudRedirect = redirect =>{\r\n\t\t\tif(redirect){\r\n\t\t\t\treturn <Redirect to=\"/cart\" />\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tconst showStock = (quantity) =>{\r\n\t\t\treturn(\r\n\t\t\t\tquantity > 0 ? <span>In stock</span> : <span>Out of Stock</span>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\r\n\r\n\t\treturn(\r\n\r\n\t\t\t\t<div className=\"divTop2\">\r\n\t\t\t\t\t<div className=\"marginDiv\">\r\n\t\t\t\t\t\t<div className=\"imageDiv\">\r\n\t\t\t\t\t\t\t{shoudRedirect(redirect)}\r\n\t\t\t\t\t\t\t<Link to={`/product/${product._id}`}><ShowImage item={product} url=\"product\" /></Link>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div style={{paddingLeft: \"2px\"}}>\r\n\t\t\t\t\t \t\t{product.name}\r\n\t\t\t\t\t \t</div>\r\n\r\n\t\t\t\t\t \t<div style={{paddingLeft: \"2px\"}} >\r\n\t\t\t\t\t \t\t<strong>₦{product.price}</strong>\r\n\t\t\t\t\t \t</div>\r\n\r\n\t\t\t\t\t \t{showCartUpdate(cartUpdate)}\r\n\t\t\t\t\t \t{showRemoveButton(showRemoveProductButton)}\r\n\t\t\t\t\t \t<div>\r\n\t\t\t\t\t\t\t<div className=\"buttons\">\r\n{/*\t\t\t\t\t \t\t\t{ShowViewButton(showDisplayButton)}\r\n*/}\t\t\t\t\t \t\t\t{cartButton(addToCartButton)}\r\n\t\t\t\t\t \t\t</div>\t\r\n\t\t\t\t\t \t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\nexport default Card\r\n\r\n\t\t\t\t\t\t","import React,{useState, useEffect} from \"react\";\r\nimport Layout from \"./Layout\";\r\nimport {getProducts, productByCategory} from \"./ApiCore\";\r\nimport Card from \"./Card\";\r\nimport \"./Card.css\";\r\nimport {Helmet} from \"react-helmet\";\r\n// import Searched from \"./Search\";\r\n\r\n\r\nconst Home = () =>{\r\n\tconst [productsByArrival, setProductsByArrival] = useState([]);\r\n\tconst [gentShoes, setGentShoes] = useState([]);\r\n\tconst [shirts, setShirts] = useState([]);\r\n\tconst [trouser, setTrousers] = useState([]);\r\n\t// const [productsFromCategoryy, setProductsFromCategoryy] = useState([]);\r\n\t// const [productsBySell, setProductsBySell] = useState([]);\r\n\tconst [error, setError] = useState(false);\r\n\r\n\t\t\r\n\tconst loadProductsByArrival = () =>{\r\n\t\tgetProducts(\"createdAt\")\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetError(data.error)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetProductsByArrival(data)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\r\n\tconst loadProductsByShoes = () =>{\r\n\t\tproductByCategory(\"659035229e896e35281ec072\")\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetError(data.error)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetGentShoes(data)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\r\n\tconst loadShirts = () =>{\r\n\t\tproductByCategory(\"659035e69e896e35281ec073\")\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetError(data.error)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetShirts(data)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst loadTrousers = () =>{\r\n\t\tproductByCategory(\"659035f79e896e35281ec074\")\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetError(data.error)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetTrousers(data)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\t// const loadProductsBySell = () =>{\r\n\t// \tgetProducts(\"sold\")\r\n\t// \t\t.then(data =>{\r\n\t// \t\t\tif(data.error){\r\n\t// \t\t\t\tsetError(data.error)\r\n\t// \t\t\t}else{\r\n\t// \t\t\t\tsetProductsBySell(data)\r\n\t// \t\t\t}\r\n\t// \t\t})\r\n\t// }\r\n\r\n\r\n\tuseEffect(() =>{\r\n\t\tloadProductsByArrival()\r\n\t\tloadProductsByShoes()\r\n\t\tloadShirts()\r\n\t\tloadTrousers()\r\n\t}, [])\r\n\r\n\r\n\treturn(\r\n\t\t<Layout title=\"Homepage\" description=\"Node js Ecommerce App\">\r\n\t\t\t<Helmet>\r\n\t\t\t\t<meta charSet=\"utf-8\" />\r\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n\t\t\t\t<title>House of Goodiz</title>\r\n\t\t\t\t<meta property=\"og:image\" content=\"https://www.houseofgoodiz.com/images/image.png\" />\r\n\t\t\t\t<meta name=\"description\" content=\"Home page. View our list of products and shop\"/>\r\n\t\t\t</Helmet>\r\n\r\n{/*\t\t\t\t<Searched />\r\n*/}\t\t\t\t<div className=\"firstDiv\" style={{backgroundColor: \"white\"}}>\r\n\t\t\t\t<div className=\"h4Div\"><h4 style={{fontSize: \"1.25rem\", fontWeight: \"bold\", color: \"white\"}} >Best Seller</h4></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"divTop\">\r\n\t\t\t\t\t\t\t{productsByArrival.map((product, i)=>(\r\n\t\t\t\t\t\t\t\t<Card key={i} product={product} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<div className=\"firstDiv\" style={{backgroundColor: \"white\"}}>\r\n\t\t\t\t<div className=\"h4Div\"><h4 style={{fontSize: \"1.25rem\", fontWeight: \"bold\", color: \"white\"}} >Ladies & Gent Shoes</h4></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"divTop\">\r\n\t\t\t\t\t\t\t{gentShoes.map((product, i)=>(\r\n\t\t\t\t\t\t\t\t<Card key={i} product={product} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"firstDiv\" style={{backgroundColor: \"white\"}}>\r\n\t\t\t\t<div className=\"h4Div\"><h4 style={{fontSize: \"1.25rem\", fontWeight: \"bold\", color: \"white\"}} >Shirts & Polo</h4></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"divTop\">\r\n\t\t\t\t\t\t\t{shirts.map((product, i)=>(\r\n\t\t\t\t\t\t\t\t<Card key={i} product={product} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<div className=\"firstDiv\" style={{backgroundColor: \"white\"}}>\r\n\t\t\t\t<div className=\"h4Div\"><h4 style={{fontSize: \"1.25rem\", fontWeight: \"bold\", color: \"white\"}} >Trousers For Men & Women</h4></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"divTop\">\r\n\t\t\t\t\t\t\t{trouser.map((product, i)=>(\r\n\t\t\t\t\t\t\t\t<Card key={i} product={product} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/*<div className=\"firstDiv\" style={{backgroundColor: \"white\"}}>\r\n\t\t\t\t<div className=\"h4Div\"><h4 style={{fontSize: \"1.25rem\", fontWeight: \"bold\", color: \"white\"}} >Best Seller</h4></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"divTop\">\r\n\t\t\t\t\t\t\t{productsBySell.map((product, i)=>(\r\n\t\t\t\t\t\t\t\t<Card key={i} product={product} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t</div>*/}\t\r\n\r\n\t\t</Layout>\r\n\t)\r\n}\r\n\r\n\r\nexport default Home","import React from \"react\"\r\nimport { Route, Redirect } from \"react-router-dom\"\r\nimport { isAuthenticated } from \"./index\"\r\n\r\n\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest}) =>(\r\n\t<Route {...rest} render={props => isAuthenticated() ? (\r\n\t\t<Component {...props} />\r\n\t) : (\r\n\t\t<Redirect \r\n\t\t\tto={{\r\n\t\t\t pathname: \"/signin\", \r\n\t\t\t state:{from: props.location}  \r\n\t\t}}\r\n\t\t/>\r\n\r\n\t)} />\r\n)\r\n\r\n\r\nexport default PrivateRoute ","import React,{useState, useEffect} from \"react\"\r\nimport Layout from \"../core/Layout\"\r\nimport {isAuthenticated} from \"../auth\"\r\nimport {Link} from \"react-router-dom\"\r\nimport {getPurchaseHistory} from \"./ApiUser\"\r\nimport moment from \"moment\"\r\n\r\nconst Dashboard = () =>{\r\n\tconst [history, setHistory] = useState([])\r\n\r\n\tconst { user: { _id, name, email, role } } = isAuthenticated();\r\n\tconst token = isAuthenticated().token;\r\n\r\n\tconst init = (userId, token) => {\r\n\t\tgetPurchaseHistory(userId, token)\r\n\t\t\t.then(data => {\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tconsole.log(data.error)\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tsetHistory(data)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\r\n\tuseEffect(()=>{\r\n\t\tinit(_id, token)\r\n\t},[])\r\n\r\n\tconst userInfo = () =>(\r\n\t\t<div className=\"card mb-5 mt-5 \">\r\n\t\t\t<h3 className=\"card-header\">User Information</h3>\r\n\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t<li className=\"list-group-item\">{name}</li>\r\n\t\t\t\t\t<li className=\"list-group-item\">{email}</li>\r\n\t\t\t\t\t<li className=\"list-group-item\">{role === 1 ? \"Admin\" : \"Registered User\" }</li>\r\n\t\t\t\t</ul>\r\n\t\t</div>\r\n\t)\r\n\r\n\tconst purchaseHistory = history => {\r\n    return (\r\n        <div className=\"card mb-5\">\r\n            <h3 className=\"card-header\">Purchase history</h3>\r\n            <ul className=\"list-group\">\r\n                <li className=\"list-group-item\">\r\n                    {history.map((h, i) => {\r\n                        return (\r\n                            <div>\r\n                                <hr />\r\n                                {h.products.map((p, i) => {\r\n                                    return (\r\n                                        <div key={i}>\r\n                                            <h6>Product name: {p.name}</h6>\r\n                                            <h6>Product price: ${p.price}</h6>\r\n                                            <h6>\r\n                                                Purchased date:{\" \"}\r\n                                                {moment(p.createdAt).fromNow()}\r\n                                            </h6>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\n\tconst userLink = () =>(\r\n\t\t<div className=\"card mt-5\">\r\n\t\t\t<h3 className=\"card-header\">User Link</h3>\r\n\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t<Link to=\"/cart\" className=\"nav-link\">Cart</Link>\r\n\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t<Link to={`/profile/${_id}`} className=\"nav-link\">Update Profile</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t</div>\r\n\t)\r\n\r\n\treturn(\r\n\t\t<Layout title={`Howdy ${name}`} Description=\"User Dashboard\" className=\"container-fluid\">\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-3\">\r\n\t\t\t\t\t{userLink()}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-md-9\">\r\n\t\t\t\t\t{userInfo()}\r\n\t\t\t\t\t{purchaseHistory(history)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</Layout>\r\n\r\n\t)\r\n}\r\n\r\nexport default Dashboard","import {API} from \"../config\"\r\n\r\n\r\nexport const update = (userId, token, user) => {\r\n\treturn fetch(`${API}/user/${userId}`, {\r\n\t\tmethod: \"PUT\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t},\r\n\t\tbody: JSON.stringify(user)\r\n\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\n\r\n\r\nexport const read = (userId, token) => {\r\n\treturn fetch(`${API}/user/${userId}`, {\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t}\r\n\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\nexport const updateUser = (user, next) => {\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tif(localStorage.getItem(\"jwt\")){\r\n\t\t\tlet auth = JSON.parse(localStorage.getItem(\"jwt\"));\r\n\t\t\tauth.user = user;\r\n\t\t\tlocalStorage.setItem(\"jwt\", JSON.stringify(auth));\r\n\t\t\tnext();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport const getPurchaseHistory = (userId, token) => {\r\n\treturn fetch(`${API}/orders/by/user/${userId}`, {\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t}\r\n\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n","import React from \"react\"\r\nimport { Route, Redirect } from \"react-router-dom\"\r\nimport { isAuthenticated } from \"./index\"\r\n\r\n\r\n\r\nconst AdminRoute = ({ component: Component, ...rest}) =>(\r\n\t<Route {...rest} render={props => isAuthenticated() && isAuthenticated().user.role === 1 ? (\r\n\t\t<Component {...props} />\r\n\t) : (\r\n\t\t<Redirect \r\n\t\t\tto={{\r\n\t\t\t pathname: \"/signin\", \r\n\t\t\t state:{from: props.location}  \r\n\t\t}}\r\n\t\t/>\r\n\r\n\t)} />\r\n)\r\n\r\n\r\nexport default AdminRoute ","import React from \"react\"\r\nimport Layout from \"../core/Layout\"\r\nimport {isAuthenticated} from \"../auth\"\r\nimport {Link} from \"react-router-dom\"\r\n\r\nconst AdminDashboard = () =>{\r\n\r\n\tconst { user: { name, email, role } } = isAuthenticated()\r\n\r\n\tconst adminInfo = () =>(\r\n\t\t<div className=\"card mb-5 mt-5 \">\r\n\t\t\t<h4 className=\"card-header\">Admin Information</h4>\r\n\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t<li className=\"list-group-item\">{name}</li>\r\n\t\t\t\t\t<li className=\"list-group-item\">{email}</li>\r\n\t\t\t\t\t<li className=\"list-group-item\">{role === 1 ? \"Admin\" : \"Registered User\" }</li>\r\n\t\t\t\t</ul>\r\n\t\t</div>\r\n\t)\r\n\r\n\tconst adminHistory = () =>(\r\n\t\t<div className=\"card mb-5\">\r\n\t\t\t<h4 className=\"card-header\">Admin History</h4>\r\n\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t<li className=\"list-group-item\">History</li>\r\n\t\t\t\t</ul>\r\n\t\t</div>\r\n\t)\r\n\r\n\tconst adminLink = () =>(\r\n\t\t<div className=\"card mb-5 mt-5\">\r\n\t\t\t<h4 className=\"card-header\">Admin Link</h4>\r\n\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t<Link to=\"/create/category\" className=\"nav-link\">Create Category</Link>\r\n\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t<Link to=\"/create/product\" className=\"nav-link\">Create Product</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t<Link to=\"/admin/products\" className=\"nav-link\">Manage Products</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t<Link to=\"/admin/orders\" className=\"nav-link\">View Orders</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t</div>\r\n\t)\r\n\r\n\treturn(\r\n\t\t<Layout title={`Howdy ${name}`} Description=\"Admin Dashboard\" className=\"container-fluid\">\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-3\">\r\n\t\t\t\t\t{adminLink()}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-md-9\">\r\n\t\t\t\t\t{adminInfo()}\r\n\t\t\t\t\t{adminHistory()}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</Layout>\r\n\r\n\t)\r\n}\r\n\r\nexport default AdminDashboard","import {API} from \"../config\"\r\n\r\n\r\nexport const createCategory = (userId, token, category) => {\r\n\t\t\treturn fetch(`${API}/category/create/${userId}`, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify(category)\r\n\t\t\t})\r\n\t\t\t.then(response =>{\r\n\t\t\t\treturn response.json()\r\n\t\t\t})\r\n\t\t\t.catch(error =>{\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\r\nexport const createProduct = (userId, token, product) => {\r\n\t\t\treturn fetch(`${API}/product/create/${userId}`, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t\t},\r\n\t\t\t\tbody: product\r\n\t\t\t})\r\n\t\t\t.then(response =>{\r\n\t\t\t\treturn response.json()\r\n\t\t\t})\r\n\t\t\t.catch(error =>{\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\r\nexport const getCategories = () => {\r\n\treturn fetch(`${API}/categories`, {\r\n\t\tmethod: \"GET\"\r\n\t\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\nexport const listOrders = (userId, token) => {\r\n\treturn fetch(`${API}/order/list/${userId}`, {\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t\t}\r\n\t\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t})\r\n\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t})\r\n}\r\n\r\n\r\n\r\nexport const getProducts = () => {\r\n\treturn fetch(`${API}/products?limit=undefined`, {\r\n\t\tmethod: \"GET\"\r\n\t\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\nexport const deleteProduct = (productId, userId, token) => {\r\n\t\t\treturn fetch(`${API}/product/${productId}/${userId}`, {\r\n\t\t\t\tmethod: \"DELETE\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(response =>{\r\n\t\t\t\treturn response.json()\r\n\t\t\t})\r\n\t\t\t.catch(error =>{\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\r\nexport const updateProduct = (productId, userId, token, product) => {\r\n\t\t\treturn fetch(`${API}/product/${productId}/${userId}`, {\r\n\t\t\t\tmethod: \"PUT\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t\t},\r\n\t\t\t\tbody: product\r\n\t\t\t})\r\n\t\t\t.then(response =>{\r\n\t\t\t\treturn response.json()\r\n\t\t\t})\r\n\t\t\t.catch(error =>{\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\r\nexport const getProduct = (productId) => {\r\n\treturn fetch(`${API}/product/${productId}`, {\r\n\t\tmethod: \"GET\"\r\n\t\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\n\r\nexport const getStatusValues = (userId, token) => {\r\n\treturn fetch(`${API}/order/status/${userId}`, {\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t\t}\r\n\t\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t})\r\n\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t})\r\n}\r\n\r\n\r\n\r\nexport const updateOrderStatus = (userId, token, orderId, status) => {\r\n\treturn fetch(`${API}/order/${orderId}/status/${userId}`, {\r\n\t\tmethod: \"PUT\",\r\n\t\theaders: {\r\n\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({status, orderId})\r\n\t\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t})\r\n\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t})\r\n}","import React, {useState} from \"react\"\r\n// import { Link } from \"react-router-dom\"\r\nimport Layout from \"../core/Layout\"\r\nimport {createCategory} from \"./ApiAdmin\"\r\nimport {isAuthenticated} from \"../auth\"\r\n\r\n\r\n\r\nconst AddCategory = () =>{\r\n\r\n\tconst [name, setName] = useState(\"\");\r\n\tconst [error, setError] = useState(false);\r\n\tconst [success, setSuccess] = useState(false);\r\n\r\n\tconst {user, token} = isAuthenticated()\r\n\r\n\tconst handleChange = e =>{\r\n\t\tsetError(\"\")\r\n\t\tsetName(e.target.value)\r\n\t}\r\n\r\n\tconst clickSubmit = e =>{\r\n\t\te.preventDefault()\r\n\t\tsetError(\"\")\r\n\t\tsetSuccess(false)\r\n\t\t// Make request to API to create category\r\n\t\tcreateCategory(user._id, token, {name})\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetError(true)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetError(\"\")\r\n\t\t\t\t\tsetSuccess(true)\r\n\t\t\t\t}\r\n\r\n\t\t\t})\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\tconst newCategoryForm = () =>(\r\n\t\t<form onSubmit={clickSubmit} >\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted\">Name</label>\r\n\t\t\t\t<input type=\"text\" onChange={handleChange} className=\"form-control\" value={name} autoFocus required />\r\n\t\t\t</div>\r\n\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary\" style={{marginTop: \"18px\"}}>Create Category</button>\r\n\t\t</form>\r\n\t)\r\n\r\n\tconst categoryTitle = () =>{\r\n\t\treturn <div style={{color: \"#0275d8\", marginTop: \"30px\", marginBottom: \"20px\"}}><h3>Add A New Category</h3></div>\r\n\t}\r\n\t\r\n\tconst showSuccess = () =>{\r\n\t\tif(success){\r\n\t\t\treturn <div><h6 className=\"alert alert-info\">Category was successfully created</h6></div>\r\n\t\t}\r\n\t}\r\n\r\n\tconst showErrors = () =>{\r\n\t\tif(error){\r\n\t\t\treturn <div><h6 className=\"alert alert-danger\">{name} category should be unique</h6></div>\r\n\t\t}\r\n\t}\r\n\r\n\treturn(\r\n\t\t<Layout \r\n\t\t\ttitle=\"Category Page\" \r\n\t\t\tdescription=\"Create Category\"\r\n\t\t\tclassName=\"container col-md-4 offset-md-4\"\r\n\t\t>\r\n\t\t<div style={{ background: \"#f7f7f7\", padding: \"40px\", borderRadius: \"7px\"}}>\r\n\t\t{showSuccess()}\r\n\t\t{showErrors()}\r\n\t\t{categoryTitle()}\r\n\t\t{newCategoryForm()}\r\n\t\t</div>\r\n\t\t</Layout>\r\n\r\n\t)\r\n}\r\n\r\nexport default AddCategory","import React, {useState, useEffect} from \"react\"\r\n// import { Link } from \"react-router-dom\"\r\nimport Layout from \"../core/Layout\"\r\nimport { createProduct, getCategories } from \"./ApiAdmin\"\r\nimport {isAuthenticated} from \"../auth\"\r\nimport \"./product.css\"\r\n\r\nconst AddProduct = () => {\r\n\r\n\tconst {user, token} =isAuthenticated()\r\n\r\n\tconst [values, setValues] = useState({\r\n\t\tname: \"\",\r\n\t\tdescription: \"\",\r\n\t\tprice: \"\",\r\n\t\tcategories: [],\r\n\t\tcategory: \"\",\r\n\t\tshipping: \"\",\r\n\t\tquantity: \"\",\r\n\t\tphoto: \"\",\r\n\t\tloading: false,\r\n\t\terror: \"\",\r\n\t\tcreatedProduct: \"\",\r\n\t\tredirectToProfile: false,\r\n\t\tformData: \"\"\r\n\t\t\r\n\t})\r\n\r\n\r\n\tconst {\r\n\t\tname,\r\n\t\tdescription,\r\n\t\tprice,\r\n\t\tcategories,\r\n\t\tcategory,\r\n\t\tshipping,\r\n\t\tquantity,\r\n\t\tloading,\r\n\t\terror,\r\n\t\tcreatedProduct,\r\n\t\tredirectToProfile,\r\n\t\tformData\r\n\r\n\t} = values\r\n\r\n\tconst init = () =>{\r\n\t\tgetCategories().then(data => {\r\n\t\t\tif(data.error){\r\n\t\t\t\tsetValues({...values, error: data.error})\r\n\t\t\t} else {\r\n\t\t\t\tsetValues({...values, categories: data, formData: new FormData()})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(()=>{\r\n\t\tinit()\r\n\t}, [])\r\n\r\n\r\n\tconst handleChange = name => event => {\r\n\t\t\tconst value = name === 'photo' ? event.target.files[0] : event.target.value\r\n\t\t\tformData.set(name, value)\r\n\t\t\tsetValues({...values, [name]: value})\r\n\t}\r\n\r\n\r\n\tconst clickSubmit = (event) =>{\r\n\t\tevent.preventDefault()\r\n\t\tsetValues({...values, error: \"\", loading: true})\r\n\t\tcreateProduct(user._id, token, formData)\r\n\t\t\t.then(data => {\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetValues({...values, error: data.error})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetValues({\r\n\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\tname: \"\",\r\n\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\tprice: \"\",\r\n\t\t\t\t\t\tquantity: \"\",\r\n\t\t\t\t\t\tphoto: \"\",\r\n\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\tcreatedProduct: data.name\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t}\r\n\r\n\r\n\tconst newPostForm = () =>(\r\n\r\n\t\t<form className=\"mb-3\" onSubmit={clickSubmit}>\r\n\r\n\t\t\t<h4>Add Photo</h4>\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"btn btn-secondary \">\r\n\t\t\t\t\t<input type=\"file\" onChange={handleChange('photo')} name=\"photo\" accept=\"image/*\" />\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Name</label>\r\n\t\t\t\t<input type=\"text\" onChange={handleChange('name')} className=\"form-control\" value={name} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Description</label>\r\n\t\t\t\t<textarea style={{height: \"140px\"}} className=\"form-control\" onChange={handleChange('description')} value={description} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Price</label>\r\n\t\t\t\t<input type=\"number\" onChange={handleChange('price')} className=\"form-control\" value={price} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Category</label>\r\n\t\t\t\t<select onChange={handleChange('category')} className=\"form-control\">\r\n\t\t\t\t\t<option>Select Category</option>\r\n\t\t\t\t\t{categories && categories.map((c, i) => (\r\n\t\t\t\t\t\t<option key={i} value={c._id}>{c.name}</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Shipping</label>\r\n\t\t\t\t<select onChange={handleChange('shipping')} className=\"form-control\">\r\n\t\t\t\t\t<option>Please Select</option>\r\n\t\t\t\t\t<option value=\"0\">No</option>\r\n\t\t\t\t\t<option value=\"1\">Yes</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Quantity</label>\r\n\t\t\t\t<input type=\"number\" onChange={handleChange('quantity')} className=\"form-control\" value={quantity} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<button type=\"submit\" className=\"btn btn-primary mt-4\">Add Product</button>\r\n\r\n\t\t</form>\r\n\r\n\t)\r\n\r\n\tconst showError = () =>(\r\n\t\t<div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\" }} ><h5>{error}</h5></div>\r\n\t)\r\n\r\n\tconst showSuccess = () =>(\r\n\t\t<div className=\"alert alert-info\" style={{display: createdProduct ? \"\" : \"none\" }} ><h5>{`${createdProduct} is created`}</h5></div>\r\n\t)\r\n\r\n\r\n\tconst ShowLoading = () => (\r\n\t\tloading && (\r\n\t\t\t<div className=\"alert alert-info\">Loading...</div>\r\n\t\t)\r\n\t)\r\n\t\r\n\r\n\treturn(\r\n\t\t\t<Layout \r\n\t\t\t\ttitle=\"Signin page\" \r\n\t\t\t\tdescription=\"Signin to node js app\"\r\n\t\t\t\tclassName=\"container col-md-8 offset-md-2\"\r\n\t\t\t>\r\n\t\t\t<div className=\"mb-4 productCss\">\r\n\t\t\t\t{ShowLoading()}\r\n\t\t\t\t{showSuccess()}\r\n\t\t\t\t{showError()}\r\n\t\t\t\t{newPostForm()}\t\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\t)\r\n}\r\n\r\n\r\n\r\n\r\nexport default AddProduct","import React, {useState, useEffect} from \"react\"\r\n\r\nconst Checkbox = ({categories, handleFilters}) =>{\r\n\tconst [checked, setChecked] = useState([])\r\n\r\n\tconst handleToggle = c =>()=>{\r\n\t\tconst currentCategoryId = checked.indexOf(c)\r\n\t\tconst newCheckedCategoryId = [...checked]\r\n\r\n\t\tif(currentCategoryId === -1){\r\n\t\t\tnewCheckedCategoryId.push(c)\r\n\t\t} else {\r\n\t\t\tnewCheckedCategoryId.splice(currentCategoryId, 1)\r\n\t\t}\t\t\r\n\t\tsetChecked(newCheckedCategoryId)\r\n\t\thandleFilters(newCheckedCategoryId);\r\n\t}\r\n\r\n\r\n\treturn categories.map((c, i) =>(\r\n\t\t<li key={i} className=\"list-unstyled\">\r\n\t\t\t<input type=\"checkbox\" \r\n\t\t\t\tclassName=\"form-check-input\"  \r\n\t\t\t\tonChange={handleToggle(c._id)} \r\n\t\t\t\tvalue={checked.indexOf(c._id === -1)}\r\n\t\t\t/>\r\n\t\t\t<label className=\"form-check-label\">{c.name}</label>\r\n\t\t</li>\r\n\t))\r\n}\r\n\r\n\r\nexport default Checkbox","import React, {useState, useEffect, Fragment} from \"react\"\r\n\r\nconst RadioBox = ({prices, handleFilters}) =>{\r\n\tconst [value, setValue] = useState(0)\r\n\r\n\tconst handleChange = event =>{\r\n\t\thandleFilters(event.target.value)\r\n\t\tsetValue(event.target.value)\r\n\t}\r\n\r\n\r\n\r\n\t\r\n\t\treturn(\r\n\t\t\tprices.map((p, i) => (\r\n\t\t\t\t<div key={i}>\r\n\t\t\t\t\t<input type=\"radio\" \r\n\t\t\t\t\t\tclassName=\"mr-2 ml-4\"\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tvalue={p._id} \r\n\t\t\t\t\t\tname={p}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label className=\"form-check-label\">{p.name}</label>\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t\t\t\r\n\t\t)\r\n}\r\n\r\nexport default RadioBox;","export const prices = [\r\n\t{\r\n\t\t_id: 0,\r\n\t\tname: \"Any\",\r\n\t\tarray: []\r\n\t},\r\n\r\n\t{\r\n\t\t_id: 1,\r\n\t\tname: \"N50 - N100\",\r\n\t\tarray: [50, 100]\r\n\t},\r\n\r\n\t{\r\n\t\t_id: 2,\r\n\t\tname: \"N100 - N1000\",\r\n\t\tarray: [100, 1000]\r\n\t},\r\n\r\n\t{\r\n\t\t_id: 3,\r\n\t\tname: \"N1100 - N2000\",\r\n\t\tarray: [1100, 2000]\r\n\t},\r\n\r\n\t{\r\n\t\t_id: 4,\r\n\t\tname: \"N2100 - N3000\",\r\n\t\tarray: [2100, 3000]\r\n\t},\r\n\r\n\t{\r\n\t\t_id: 5,\r\n\t\tname: \"N3100 - N4000\",\r\n\t\tarray: [3100, 4000]\r\n\t},\r\n\r\n\r\n\t{\r\n\t\t_id: 6,\r\n\t\tname: \"More Than N4000\",\r\n\t\tarray: [4100, 5000]\r\n\t}\r\n\r\n]\r\n","import React, {useState, useEffect} from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\nimport Layout from \"./Layout\"\r\nimport {getCategories, getFilteredProducts} from \"./ApiCore\"\r\nimport Checkbox from \"./Checkbox\"\r\nimport RadioBox from \"./RadioBox\"\r\nimport {prices} from \"./FixedPrices\"\r\nimport Card from \"./Card\"\r\nimport \"./Shop.css\"\r\nimport {Helmet} from \"react-helmet\"\r\n\r\n\r\n\r\n\r\nconst Shop = () =>{\r\n\tconst [myFilters, setMyFilter] = useState({\r\n\t\tfilters: {\r\n\t\t\tcategories: [],\r\n\t\t\tprice: []\r\n\t\t}\r\n\t})\r\n\tconst [categories, setCategories] = useState([])\r\n\tconst [error, setError] = useState(false)\r\n\tconst [skip, setSkip] = useState(0)\r\n\tconst [limit, setLimit] = useState(6)\r\n\tconst [filteredResults, setFilteredResults] = useState([])\r\n\tconst [size, setSize] = useState(0)\r\n\r\n\tconst init = () => {\r\n\t\tgetCategories()\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(error.data){\r\n\t\t\t\t\tsetError(error.data)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetCategories(data)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst loadFilteredResults = newFilters =>{\r\n\t\tgetFilteredProducts(skip, limit, newFilters)\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetError(data.error)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetFilteredResults(data.data)\r\n\t\t\t\t\tsetSize(data.size)\r\n\t\t\t\t\tsetSkip(0)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\r\n\r\n\tconst loadMore = newFilters =>{\r\n\t\tlet toSkip = skip + limit;\r\n\t\tgetFilteredProducts(toSkip, limit, myFilters.filters)\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetError(data.error)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetFilteredResults([...filteredResults, ...data.data])\r\n\t\t\t\t\tsetSize(data.size)\r\n\t\t\t\t\tsetSkip(toSkip)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\r\n\tconst loadMoreButton = () =>{\r\n\t\treturn(\r\n\t\t\tsize > 0 && size >= limit && (\r\n\t\t\t\t<button className=\"btn btn-primary\" onClick={loadMore}>Load More</button>\r\n\t\t\t)\r\n\t\t)\r\n\t}\r\n\r\n\r\n\tuseEffect(() =>{\r\n\t\tinit();\r\n\t\tloadFilteredResults(skip, limit, myFilters.filters)\r\n\t}, [])\r\n\r\n\r\n\tconst handleFilters = (filters, filterBy) => {\r\n\t\t// console.log(\"SHOP\", filters, FilterBy)\r\n\t\tconst newFilters = {...myFilters}\r\n\t\tnewFilters.filters[filterBy] = filters\r\n\r\n\t\tif(filterBy ==\"price\"){\r\n\t\t\tlet priceValues = handlePrice(filters)\r\n\t\t\tnewFilters.filters[filterBy] = priceValues\r\n\t\t}\r\n\r\n\t\tloadFilteredResults(myFilters.filters)\r\n\t\tsetMyFilter(newFilters)\r\n\t}\r\n\r\n\tconst handlePrice = value =>{\r\n\t\tconst data = prices;\r\n\t\tlet array = [];\r\n\r\n\t\tfor(let key in data){\r\n\t\t\tif(data[key]._id === parseInt(value)){\r\n\t\t\t\tarray = data[key].array\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn array;\r\n\t}\r\n\r\n\r\n\t\r\n\treturn(\r\n\r\n\t\t<Layout title=\"Homepage\" description=\"Node js Ecommerce App\" >\r\n\r\n\t\t\t<Helmet>\r\n\t\t\t\t<meta charSet=\"utf-8\" />\r\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n\t\t\t\t<title>Shop</title>\r\n\t\t\t\t<meta name=\"description\" content=\"Shop for items here\"/>\r\n\t\t\t</Helmet>\r\n\r\n\t\t\t<div className=\"ShopRow\" style={{backgroundColor: \"white\"}}>\r\n\t\t\t\t<div className=\"ShopRow1\">\r\n\t\t\t\t\t<div className=\"filterDiv\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<h4 style={{fontSize: \"27px\"}}>Filter By Categories</h4>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<Checkbox categories={categories} \r\n\t\t\t\t\t\t\t\t\thandleFilters={filters => \r\n\t\t\t\t\t\t\t\t\t\thandleFilters(filters, \"category\")\r\n\t\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<h4 style={{fontSize: \"27px\"}}>Filter By Price</h4>\r\n\t\t\t\t\t\t\t<div style={{ paddingLeft: \"30px\"}}>\r\n\t\t\t\t\t\t\t<RadioBox prices={prices} \r\n\t\t\t\t\t\t\t\thandleFilters={filters => \r\n\t\t\t\t\t\t\t\t\thandleFilters(filters, \"price\")\r\n\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"cardRow\">\r\n\t\t\t\t\t\t\t{filteredResults.map((product, i )=>(\r\n\t\t\t\t\t\t\t\t<div className=\"cardRow2\">\r\n\t\t\t\t\t\t\t\t\t<Card key={i} product={product} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t{loadMoreButton()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\t)\r\n}\r\n\r\nexport default Shop","import React, {useState} from \"react\"\r\nimport {API} from \"../config\"\r\n\r\n\r\nconst ShowPhoto = ({item, url}) =>{\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t<img \r\n\t\t\t\tsrc={`${API}/${url}/photo/${item._id}`}\r\n\t\t\t\talt={item.name}\r\n\t\t\t\tclassName=\"mb-3\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ShowPhoto","import React, {useState, useEffect} from \"react\";\r\nimport {read, listRelated} from \"./ApiCore\";\r\nimport Card from \"./Card\";\r\nimport \"./Product.css\";\r\nimport ShowPhoto from \"./ShowPhoto\";\r\nimport Layout from \"./Layout\"\r\nimport moment from \"moment\"\r\nimport {API} from \"../config\"\r\nimport {Helmet} from \"react-helmet\";\r\n\r\n\r\n\r\nconst Products = (props) => {\r\n\r\n\tconst [product, setProduct] = useState({})\r\n\tconst [related, setRelated] = useState([])\r\n\tconst [error, setError] = useState(false)\r\n\r\n\tconst singleProduct = productId =>{\r\n\t\tread(productId)\r\n\t\t.then(data =>{\r\n\t\t\tif(data.error){\r\n\t\t\t\tsetError(data.error)\r\n\t\t\t} else{\r\n\t\t\t\tsetProduct(data)\r\n\t\t\t\tlistRelated(data._id)\r\n\t\t\t\t\t.then(data => {\r\n\t\t\t\t\t\tif(data.error){\r\n\t\t\t\t\t\t\tsetError(data.error)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsetRelated(data)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t} \r\n\r\n\tuseEffect(()=>{\r\n\t\tconst productId = props.match.params.productId\r\n\t\tsingleProduct(productId)\r\n\t}, [props])\r\n\r\n\r\n\treturn(\r\n\r\n\t\t<Layout>\r\n\t\t\t\t<Helmet>\r\n\t\t\t\t\t<meta charSet=\"utf-8\" />\r\n\t\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n\t\t\t\t\t<title>{product.name}</title>\r\n\t\t\t\t\t<meta property=\"og:image\" content={`${API}/product/photo/${product._id}`}/>\r\n\t\t\t\t\t<meta name=\"description\" content=\"Single product page\"/>\r\n\t\t\t\t</Helmet>\r\n\t\t\t\t<div className=\"singleProductPage\" style={{backgroundColor: \"white\", paddingTop: \"10px\", paddingBottom: \"110px\"}} >\r\n\t\t\t\t\t<div className=\"imageRow\">\r\n\t\t\t\t\t\t<ShowPhoto item={product} url=\"product\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"ProductDescription\" style={{color: \"white\"}}>\r\n\t\t\t\t\t\t<p style={{color: \"black\"}}><h3>{product.name}</h3></p>\r\n\t\t\t\t\t\t<p style={{color: \"black\"}}>{product.description}</p>\r\n\t\t\t\t\t\t<p style={{color: \"black\"}}><strong>Category: {product.category && product.category.name}</strong></p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p style={{color: \"black\"}}><i>{moment(product.createdAt).fromNow()}</i></p>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\r\n\t\t\t\t<div className=\"related1\"  style={{paddingBottom: \"20px\", paddingTop: \"20px\", backgroundColor: \"white\"}}>\r\n\t\t\t\t\t\t\t<h5 style={{textAlign: \"center\"}}>Related products</h5>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t<div className=\"related\" style={{ paddingTop: \"20px\"}}>\r\n\t\t\t\t\t\t\t\t{related.map((p, i)=>(\r\n\t\t\t\t\t\t\t\t\t<Card key={i} product={p} />\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t</Layout>\r\n\t)\r\n}\r\n\r\n\r\n\r\n\r\nexport default Products","import React, {useState, useEffect} from \"react\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport { braintreeClientToken, processPayment, createOrder } from \"./ApiCore\";\r\nimport {emptyCart} from \"./CartHelper\";\r\nimport Card from \"./Card\";\r\nimport { isAuthenticated } from \"../auth\" ;\r\nimport DropIn from \"braintree-web-drop-in-react\";\r\nimport \"./Checkout.css\";\r\n\r\n\r\nconst Checkout = ({ products }) => {\r\n\r\n\tconst [data, setData] = useState({\r\n\t\tsuccess: false,\r\n\t\tloading: false,\r\n\t\terror: \"\",\r\n\t\tclientToken: null,\r\n\t\tinstance: {},\r\n\t\taddress: \"\"\r\n\t})\r\n\r\nconst userId = isAuthenticated() && isAuthenticated().user._id;\r\nconst token = isAuthenticated() && isAuthenticated().token;\r\n\r\nconst getToken = (userId, token) => {\r\n\tbraintreeClientToken(userId, token)\r\n\t\t.then(data => {\r\n\t\t\tif(data.error){\r\n\t\t\t\tsetData({...data, error: data.error})\r\n\t\t\t} else {\r\n\t\t\t\tsetData({clientToken: data.clientToken})\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\nuseEffect(()=>{\r\n\tgetToken(userId, token);\r\n}, [])\r\n\r\nconst handleAddress = (event) => {\r\n\tsetData({...data, address: event.target.value})\r\n}\r\n\r\n\t\r\nconst getTotal = () => {\r\n\treturn products.reduce((currentValue, nextValue)=>{\r\n\t\treturn currentValue + nextValue.count * nextValue.price\r\n\t}, 0)\r\n}\r\n\r\nconst showCheckout = () =>(\r\n\tisAuthenticated() ? <div>{showDropIn()}</div> : \r\n\t<Link to={{pathname: \"/signin\", \r\n\tstate: {from: \"/cart\"}}}\r\n\t>\r\n\tSignin\r\n\t</Link>\r\n)\r\n\r\nlet deliveryAddress = data.address;\r\n\r\nconst buy = () => {\r\n\tsetData({loading: true});\r\n\t// Send nonce to your server\r\n\t//nonce = data.instance.requestPaymentMethod()\r\n\r\n\tlet nonce;\r\n\tvar getNonce = data.instance.requestPaymentMethod()\r\n\t\t.then(data =>{\r\n\t\t\t// console.log(data)\r\n\t\t\tnonce = data.nonce\r\n\t\t\t// once you have nonce (card type, card number), send nonce as paymentMethodNonce to the backend\r\n\t\t\t// Also send total to be charged\r\n\t\t\t// console.log(\r\n\t\t\t// \t\"send nonce and total to process\", \r\n\t\t\t// \tnonce, \r\n\t\t\t// \tgetTotal(products)\r\n\t\t\t// )\r\n\r\n\t\t\tconst paymentData = {\r\n\t\t\t\tpaymentMethodNonce: nonce,\r\n\t\t\t\tamount: getTotal(products)\r\n\t\t\t}\r\n\t\t\tprocessPayment(userId, token, paymentData)\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tconsole.log(response);\r\n\r\n\t\t\t\t\tconst createOrderData = {\r\n\t\t\t\t\t\tproducts: products,\r\n\t\t\t\t\t\ttransaction_id: response.transaction.id,\r\n\t\t\t\t\t\tamount: response.transaction.amount,\r\n\t\t\t\t\t\taddress: deliveryAddress\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcreateOrder(userId, token, createOrderData)\r\n\t\t\t\t\t\t.then(response => {\r\n\r\n\t\t\t\t\t\t\t//Empty Cart\r\n\r\n\t\t\t\t\t\t\temptyCart(()=>{\r\n\t\t\t\t\t\t\t\tconsole.log(\"Payment success and empty cart\")\r\n\t\t\t\t\t\t\t\tsetData({loading: false, success: true});\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetData({loading: false});\r\n\t\t\t\t})\r\n\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.log(\"dropIn error\", error)\r\n\t\t\tsetData({...data, error: error.message})\r\n\t\t})\r\n}\r\n\r\nconst showError = (error) => (\r\n\t<div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\"}}>{error}</div>\r\n)\r\n\r\nconst showSuccess = (success) => (\r\n\t<div \r\n\t\tclassName=\"alert alert-info\" \r\n\t\tstyle={{display: success ? \"\" : \"none\"}}\r\n\t>\r\n\t\tThank you! Your Payment was successful\r\n\t</div>\r\n)\r\n\r\nconst showLoading = (loading) =>(\r\n\tloading && (\r\n\t\t<div className=\"alert alert-info\">Loading...</div>\r\n\t)\r\n)\r\n\r\nconst showDropIn = () => (\r\n\t\t<div className=\"firstshowDropIn\" onBlur={()=> setData({...data, error: \"\"})}>\r\n\t\t\t{data.clientToken !== null && products.length > 0 ? (\r\n\t\t\t\t<div className=\"showDropIn\">\r\n\t\t\t\t\t<div className=\"form-group mb-3\">\r\n\t\t\t\t\t\t<label className=\"text-muted\">Delivery Address:</label>\r\n\t\t\t\t\t\t<textarea className=\"form-control textArea\" \r\n\t\t\t\t\t\t\tonChange={handleAddress} \r\n\t\t\t\t\t\t\tvalue={data.address}\r\n\t\t\t\t\t\t\tplaceholder=\"Please Enter Your Address\" \r\n\t\t\t\t\t\t\tstyle={{width: \"700px\"}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<DropIn \r\n\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\tauthorization: data.clientToken,\r\n\t\t\t\t\t\t\t\tpaypal: {\r\n\t\t\t\t\t\t\t\t\tflow: \"vault\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonInstance={(instance) => (data.instance = instance)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<button onClick={buy} style={{width: \"150px\", marginBottom: \"10px\"}} className=\"btn btn-success btn-block\">Pay</button>\r\n\t\t\t\t</div>\r\n\t\t\t) : null }\r\n\t\t</div>\r\n)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div><h3 style={{color: \"black\"}}>Total: ₦{getTotal()}</h3></div>\r\n\t\t\t{showLoading(data.loading)}\r\n\t\t\t{showSuccess(data.success)}\r\n\t\t\t{showError(data.error)}\r\n\t\t\t{showCheckout()}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nexport default Checkout;","import React,{useState, useEffect} from \"react\";\r\nimport {Link} from \"react-router-dom\"\r\nimport Layout from \"./Layout\"\r\nimport Card from \"./Card\"\r\nimport { getCart, removeItem } from \"./CartHelper\"\r\nimport Checkout from \"./Checkout\"\r\nimport \"./Card.css\"\r\nimport \"./Checkout.css\"\r\nimport {Helmet} from \"react-helmet\";\r\n\r\n\r\nconst Cart = ()=> {\r\n\tconst [items, setItem] = useState([])\r\n\tconst [run, setRun] = useState(false)\r\n\r\n\tuseEffect(()=>{\r\n\t\tsetItem(getCart())\r\n\t}, [run])\r\n\r\n\tconst getAllItemsInCart = items =>(\r\n\t\t<div>\r\n\t\t\t{items.map((product, i)=> (\r\n\t\t\t\t<\r\n\t\t\t\t\tCard key={i} \r\n\t\t\t\t\tproduct={product} \r\n\t\t\t\t\taddToCartButton={false} \r\n\t\t\t\t\tcartUpdate={true} \r\n\t\t\t\t\tshowDisplayButton={false}\r\n\t\t\t\t\tshowRemoveProductButton = {true}\r\n\t\t\t\t\tsetRun={setRun}\r\n\t\t\t\t\trun={run} \r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t)\r\n\r\n\tconst ItemNotFound = () => (\r\n\t\t<div className=\"alert alert-info\"><h5> No item was found <Link to=\"/shop\">Continue Shopping</Link> </h5></div>\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Layout>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<meta charSet=\"utf-8\" />\r\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n\t\t\t\t<title>Checkout Page</title>\r\n\t\t\t\t<meta name=\"description\" content=\"Pay for products bought here\"/>\r\n\t\t\t</Helmet>\r\n\t\t\t<div className=\"cart\">\r\n\t\t\t\t<div className=\"cartRow\">\r\n\t\t\t\t\t<div style={{marginTop: \"20px\"}}>\r\n\t\t\t\t\t\t{items.length > 0 ? getAllItemsInCart(items) : ItemNotFound() }\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"cartRow2\" style={{marginTop: \"10px\"}}>\r\n\t\t\t\t\t\t<Checkout products={items} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\r\n\t)\r\n}\r\n\r\n\r\n\r\nexport default Cart\r\n","import React, {useState, useEffect} from \"react\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport Layout from \"../core/Layout\";\r\nimport {isAuthenticated} from \"../auth\";\r\nimport {getProducts, getProduct, deleteProduct} from \"./ApiAdmin\";\r\n\r\nconst ManageProducts = () => {\r\n\tconst [products, setProducts] = useState([]);\r\n\r\n\tconst {user, token} = isAuthenticated();\r\n\r\n\tconst loadProducts = () =>{\r\n\t\tgetProducts()\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tconsole.log(data.error)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetProducts(data)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst destroy = (productId) => {\r\n\t\tdeleteProduct(productId, user._id, token)\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tconsole.log(data.error)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tloadProducts()\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tuseEffect(()=>{\r\n\t\tloadProducts()\r\n\t}, [])\r\n\r\n\r\n\treturn(\r\n\t\t<Layout title=\"Homepage\" description=\"Node js Ecommerce App\">\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t\t<h2 className=\"text-center\" style={{color: \"white\"}}>You have a total {products.length} items </h2>\r\n\t\t\t\t\t\t{products.map((p, i)=>(\r\n\t\t\t\t\t\t\t<li key={i} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t<strong>{p.name}</strong>\r\n\t\t\t\t\t\t\t\t<Link to={`/admin/product/update/${p._id}`}>\r\n\t\t\t\t\t\t\t\t\t<span className=\"badge badge-warning badge-pill\" style={{color: \"black\"}}>Update</span>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<span \r\n\t\t\t\t\t\t\t\t\tonClick={()=> destroy(p._id)}\r\n\t\t\t\t\t\t\t\t\tclassName=\"badge badge-danger badge-pill\" style={{color: \"red\"}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\r\n\t)\r\n}\r\n\r\nexport default ManageProducts","import React, {useState, useEffect} from \"react\"\r\nimport { Redirect } from \"react-router-dom\"\r\nimport Layout from \"../core/Layout\"\r\nimport { getProduct, getCategories, updateProduct } from \"./ApiAdmin\"\r\nimport {isAuthenticated} from \"../auth\"\r\nimport \"./product.css\"\r\n\r\nconst UpdateProduct = ({match}) => {\r\n\r\n\tconst {user, token} =isAuthenticated()\r\n\r\n\tconst [values, setValues] = useState({\r\n\t\tname: \"\",\r\n\t\tdescription: \"\",\r\n\t\tprice: \"\",\r\n\t\tcategories: [],\r\n\t\tcategory: \"\",\r\n\t\tshipping: \"\",\r\n\t\tquantity: \"\",\r\n\t\tphoto: \"\",\r\n\t\tloading: false,\r\n\t\terror: \"\",\r\n\t\tcreatedProduct: \"\",\r\n\t\tredirectToProfile: false,\r\n\t\tformData: \"\"\r\n\t\t\r\n\t})\r\n\r\n\r\n\tconst {\r\n\t\tname,\r\n\t\tdescription,\r\n\t\tprice,\r\n\t\tcategories,\r\n\t\tcategory,\r\n\t\tshipping,\r\n\t\tquantity,\r\n\t\tloading,\r\n\t\terror,\r\n\t\tcreatedProduct,\r\n\t\tredirectToProfile,\r\n\t\tformData\r\n\r\n\t} = values\r\n\r\n\tconst init = (productId) => {\r\n\t\tgetProduct(productId)\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetValues({...values, error: data.error})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetValues({\r\n\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\tname: data.name,\r\n\t\t\t\t\t\tdescription: data.description,\r\n\t\t\t\t\t\tprice: data.price,\r\n\t\t\t\t\t\tcategory: data.category._id,\r\n\t\t\t\t\t\tshipping: data.shipping,\r\n\t\t\t\t\t\tquantity: data.quantity,\r\n\t\t\t\t\t\tformData: new FormData()\r\n\t\t\t\t\t})\r\n\t\t\t\t\tinitCategories()\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst initCategories = () =>{\r\n\t\tgetCategories().then(data => {\r\n\t\t\tif(data.error){\r\n\t\t\t\tsetValues({...values, error: data.error})\r\n\t\t\t} else {\r\n\t\t\t\tsetValues({categories: data, formData: new FormData()})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(()=>{\r\n\t\tinit(match.params.productId)\r\n\t}, [])\r\n\r\n\r\n\tconst handleChange = name => event => {\r\n\t\t\tconst value = name === 'photo' ? event.target.files[0] : event.target.value\r\n\t\t\tformData.set(name, value)\r\n\t\t\tsetValues({...values, [name]: value})\r\n\t}\r\n\r\n\r\n\tconst clickSubmit = (event) =>{\r\n\t\tevent.preventDefault()\r\n\t\tsetValues({...values, error: \"\", loading: true})\r\n\t\tupdateProduct(match.params.productId, user._id, token, formData)\r\n\t\t\t.then(data => {\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetValues({...values, error: data.error})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetValues({\r\n\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\tname: \"\",\r\n\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\tprice: \"\",\r\n\t\t\t\t\t\tquantity: \"\",\r\n\t\t\t\t\t\tphoto: \"\",\r\n\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\terror: false,\r\n\t\t\t\t\t\tredirectToProfile: true,\r\n\t\t\t\t\t\tcreatedProduct: data.name\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t}\r\n\r\n\r\n\tconst newPostForm = () =>(\r\n\r\n\t\t<form className=\"mb-3\" onSubmit={clickSubmit}>\r\n\r\n\t\t\t<h4>Add Photo</h4>\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"btn btn-secondary \">\r\n\t\t\t\t\t<input type=\"file\" onChange={handleChange('photo')} name=\"photo\" accept=\"image/*\" />\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Name</label>\r\n\t\t\t\t<input type=\"text\" onChange={handleChange('name')} className=\"form-control\" value={name} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Description</label>\r\n\t\t\t\t<textarea style={{height: \"140px\"}} className=\"form-control\" onChange={handleChange('description')} value={description} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Price</label>\r\n\t\t\t\t<input type=\"number\" onChange={handleChange('price')} className=\"form-control\" value={price} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Category</label>\r\n\t\t\t\t<select onChange={handleChange('category')} className=\"form-control\">\r\n\t\t\t\t\t<option>Select Category</option>\r\n\t\t\t\t\t{categories && categories.map((c, i) => (\r\n\t\t\t\t\t\t<option key={i} value={c._id}>{c.name}</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Shipping</label>\r\n\t\t\t\t<select onChange={handleChange('shipping')} className=\"form-control\">\r\n\t\t\t\t\t<option>Please Select</option>\r\n\t\t\t\t\t<option value=\"0\">No</option>\r\n\t\t\t\t\t<option value=\"1\">Yes</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Quantity</label>\r\n\t\t\t\t<input type=\"number\" onChange={handleChange('quantity')} className=\"form-control\" value={quantity} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<button type=\"submit\" className=\"btn btn-primary mt-4\">Update Product</button>\r\n\r\n\t\t</form>\r\n\r\n\t)\r\n\r\n\tconst showError = () =>(\r\n\t\t<div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\" }} ><h5>{error}</h5></div>\r\n\t)\r\n\r\n\tconst showSuccess = () =>(\r\n\t\t<div className=\"alert alert-info\" style={{display: createdProduct ? \"\" : \"none\" }} ><h5>{`${createdProduct} is updated`}</h5></div>\r\n\t)\r\n\r\n\r\n\tconst ShowLoading = () => (\r\n\t\tloading && (\r\n\t\t\t<div className=\"alert alert-info\">Loading...</div>\r\n\t\t)\r\n\t)\r\n\r\n\tconst redirectToReferer = () =>{\r\n\t\tif(redirectToProfile){\r\n\t\t\tif(!error){\r\n\t\t\t\treturn <Redirect to=\"/\" />\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\treturn(\r\n\t\t\t<Layout \r\n\t\t\t\ttitle=\"Signin page\" \r\n\t\t\t\tdescription=\"Signin to node js app\"\r\n\t\t\t\tclassName=\"container col-md-8 offset-md-2\"\r\n\t\t\t>\r\n\t\t\t<div className=\"mb-4 mt-4 productCss\">\r\n\t\t\t\t{ShowLoading()}\r\n\t\t\t\t{showSuccess()}\r\n\t\t\t\t{showError()}\r\n\t\t\t\t{newPostForm()}\t\r\n\t\t\t\t{redirectToReferer()}\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\t)\r\n}\r\n\r\n\r\n\r\n\r\nexport default UpdateProduct;","import React, {useState, useEffect} from \"react\"\r\nimport {Redirect} from \"react-router-dom\"\r\nimport Layout from \"../core/Layout\"\r\nimport {isAuthenticated} from \"../auth\"\r\nimport {read, update, updateUser} from \"./ApiUser\"\r\n\r\n\r\nconst Profile = ({match}) => {\r\n\tconst [values, setValues] = useState({\r\n\t\tname: \"\",\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t\terror: false,\r\n\t\tsuccess: false\r\n\t})\r\n\r\n\tconst {token} = isAuthenticated();\r\n\tconst {name, email, password, error, success} = values;\r\n\r\n\tconst init = (userId) => {\r\n\t\tread(userId, token)\r\n\t\t\t.then(data => {\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetValues({...values, error: true})\r\n\t\t\t\t}else {\r\n\t\t\t\t\tsetValues({...values, name: data.name, email: data.email})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tuseEffect(()=>{\r\n\t\tinit(match.params.userId)\r\n\t}, [])\r\n\r\n\tconst handleChange = name => e =>{\r\n\t\tsetValues({...values, error: false, [name]: e.target.value})\r\n\r\n\t}\r\n\r\n\tconst clickSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tupdate(match.params.userId, token, {name, email, password})\r\n\t\t\t.then(data => {\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tconsole.log(data.error);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tupdateUser(data, () => {\r\n\t\t\t\t\t\tsetValues({\r\n\t\t\t\t\t\t\t...values, \r\n\t\t\t\t\t\t\tname: data.name, \r\n\t\t\t\t\t\t\temail: data.email, \r\n\t\t\t\t\t\t\tsuccess: true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst redirectUser = (success) => {\r\n\t\tif(success){\r\n\t\t\treturn <Redirect to=\"/cart\" />\r\n\t\t}\r\n\t}\r\n\r\n\tconst profileUpdate = (name, email, password) => (\r\n\t\t<form style={{marginTop: \"20px\", marginBottom: \"20px\"}}>\r\n\t\t\t\t  <div className=\"form-group mb-3\">\r\n\t\t\t\t\t    <label className=\"form-label\" style={{color: \"white\"}}>Name</label>\r\n\t\t\t\t\t    <input onChange={handleChange(\"name\")} type=\"text\" className=\"form-control\" value={name} />\r\n\t\t\t\t  </div>\r\n\r\n\t\t\t\t  <div className=\"form-group mb-3\">\r\n\t\t\t\t\t    <label className=\"form-label\" style={{color: \"white\"}}>Email</label>\r\n\t\t\t\t\t    <input onChange={handleChange(\"email\")} type=\"email\" className=\"form-control\" value={email} />\r\n\t\t\t\t  </div>\r\n\r\n\t\t\t\t  <div className=\"form-group mb-3\">\r\n\t\t\t\t\t    <label className=\"form-label\" style={{color: \"white\"}}>Password</label>\r\n\t\t\t\t\t    <input onChange={handleChange(\"password\")} type=\"password\" className=\"form-control\"  value={password}/>\r\n\t\t\t\t  </div>\r\n\r\n\t\t\t\t  <button onClick={clickSubmit} type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n\t\t</form>\r\n\r\n\t)\r\n\r\n\t\treturn (\r\n\t\t\t<Layout>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-4 offset-4\">\r\n\t\t\t\t\t\t{profileUpdate(name, email, password)}\r\n\t\t\t\t\t\t{redirectUser(success)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Layout>\r\n\t\t)\r\n\t\r\n}\r\n\r\n\r\n\r\nexport default Profile;","import React, {useState, useEffect} from \"react\"\r\nimport Layout from \"../core/Layout\"\r\nimport {isAuthenticated} from \"../auth\"\r\nimport { listOrders, getStatusValues, updateOrderStatus } from \"./ApiAdmin\"\r\nimport moment from \"moment\"\r\n\r\nconst Orders = () => {\r\n\tconst [orders, setOrders] = useState([]);\r\n\tconst [statusValues, setStatusValues] = useState([]);\r\n\r\n\tconst {user, token} = isAuthenticated()\r\n\r\n\tconst loadOrders = () => {\r\n\t\tlistOrders(user._id, token).then(data =>{\r\n\t\t\tif(data.error){\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tsetOrders(data)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(()=>{\r\n\t\tloadOrders()\r\n\t},[]);\r\n\r\n\r\nconst loadStatusValues = () => {\r\n\t\tgetStatusValues(user._id, token).then(data =>{\r\n\t\t\tif(data.error){\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tsetStatusValues(data)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(()=>{\r\n\t\tloadOrders()\r\n\t\tloadStatusValues()\r\n\t},[]);\r\n\r\n\r\n\r\n\r\n\tconst showOrdersLength = () => {\r\n\t\tif(orders.length > 0){\r\n\t\t\treturn <h1 className=\"text-danger display-2\">Total order is: {orders.length}</h1>\r\n\t\t} else {\r\n\t\t\treturn <h1 className=\"text-danger\">No orders found</h1>\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tconst showInput = (key, value) =>(\r\n\t\t<div className=\"input-group mb-2 mr-sm-2\">\r\n\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t<div className=\"input-group-text\">{key}</div>\r\n\t\t\t</div>\r\n\t\t\t<input type=\"text\" value={value} className=\"form-control\" readOnly />\r\n\t\t</div>\r\n\t)\r\n\r\n\tconst handlesStatusChange = (e, orderId) => {\r\n\t\tupdateOrderStatus(user._id, token, orderId, e.target.value)\r\n\t\t\t.then(data=> {\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tconsole.log(\"status update failed\")\r\n\t\t\t\t} else{\r\n\t\t\t\t\tloadOrders();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst showStatus = (o) =>(\r\n\t\t<div className=\"form-control\">\r\n\t\t\t<h3 className=\"mark mb-4\">Status: {o.status}</h3>\r\n\t\t\t<select className=\"form-control\" onChange={e=> handlesStatusChange(e, o._id)}>\r\n\t\t\t\t<option>Status Update</option>\r\n\t\t\t\t{statusValues.map((status, index)=>(\r\n\t\t\t\t\t<option key={index} value={status}>{status}</option>\r\n\t\t\t\t))}\r\n\t\t\t</select>\r\n\t\t</div>\r\n\t)\r\n\r\n\treturn(\r\n\t\t<Layout>\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-8 offset-md-2\">\r\n\t\t\t\t\t{showOrdersLength()}\r\n\t\t\t\t\t{orders.map((o, oIndex)=>(\r\n\t\t\t\t\t\t<div key={oIndex} className=\"mt-5\" style={{borderBottom: \"1px solid white\"}}>\r\n\t\t\t\t\t\t\t<h2 className=\"mb-5\" style={{color: \"white\"}}>\r\n\t\t\t\t\t\t\t\t<span className=\"bg-primary\">\r\n\t\t\t\t\t\t\t\t\tOrder ID: {o._id}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t<ul className=\"list-group mb-2\">\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t{showStatus(o)}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<strong>Transaction:</strong> {o.transaction_id}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<strong>Amount: </strong> ₦{o.amount}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<strong>Ordered By:</strong> {o.user.name}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<strong>Ordered Date:</strong> {moment(o.createdAt).fromNow()}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<strong>Delivery Address:</strong> {o.address}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t<h2 style={{color: \"white\"}}>Total number of products Order are: {o.products.length}</h2>\r\n\t\t\t\t\t\t\t{o.products.map((p, pIndex)=>(\r\n\t\t\t\t\t\t\t\t<div className=\"mb-4\" style={{padding: \"20px\", border: \"2px solid white\"}} key={pIndex}>\r\n\t\t\t\t\t\t\t\t\t{showInput(\"Product name\", p.name)}\r\n\t\t\t\t\t\t\t\t\t{showInput(\"Product name\", p.price)}\r\n\t\t\t\t\t\t\t\t\t{showInput(\"Product name\", p.count)}\r\n\t\t\t\t\t\t\t\t\t{showInput(\"Product name\", p._id)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\t)\r\n\r\n\r\n}\r\n\r\n\r\nexport default Orders;","import React from \"react\"\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\"\r\nimport Signup from \"./user/Signup\"\r\nimport Signin from \"./user/Signin\" \r\nimport Home from \"./core/Home\" \r\nimport PrivateRoute from \"./auth/PrivateRoute\"\r\nimport Dashboard from \"./user/UserDashboard\"\r\nimport AdminRoute from \"./auth/AdminRoute\"\r\nimport AdminDashboard from \"./user/AdminDashboard\"\r\nimport AddCategory from \"./Admin/AddCategory\"\r\nimport AddProduct from \"./Admin/AddProduct\"\r\nimport Shop from \"./core/Shop\"\r\nimport Product from \"./core/Product\"\r\nimport Cart from \"./core/Cart\"\r\nimport ManageProducts from \"./Admin/ManageProducts\"\r\nimport UpdateProducts from \"./Admin/UpdateProducts\"\r\nimport Profile from \"./user/Profile\"\r\nimport Orders from \"./Admin/Orders\"\r\n\r\n\r\n\r\n// import Checkout from \"./core/Checkout\"\r\n\r\nconst Routes =()=>{\r\n\treturn(\r\n\t\t<BrowserRouter>\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route path=\"/\" exact component={Home} />\r\n\t\t\t\t<Route path=\"/shop\" exact component={Shop} />\r\n\t\t\t\t<Route path=\"/cart\" exact component={Cart} />\r\n\t\t\t\t<Route path=\"/signup\" exact component={Signup} />\r\n\t\t\t\t<Route path=\"/signin\" exact component={Signin} />\r\n\t\t\t\t<PrivateRoute path=\"/user/dashboard\" exact component={Dashboard} />\r\n\t\t\t\t<AdminRoute path=\"/admin/dashboard\" exact component={AdminDashboard} />\r\n\t\t\t\t<AdminRoute path=\"/create/category\" exact component={AddCategory} />\r\n\t\t\t\t<AdminRoute path=\"/create/product\" exact component={AddProduct} />\r\n\t\t\t\t<Route path=\"/product/:productId\" exact component={Product} />\r\n\t\t\t\t<AdminRoute path=\"/admin/products\" exact component={ManageProducts} />\r\n\t\t\t\t<AdminRoute path=\"/admin/product/update/:productId\" exact component={UpdateProducts} />\r\n\t\t\t\t<PrivateRoute path=\"/profile/:userId\" exact component={Profile} />\r\n\t\t\t\t<AdminRoute path=\"/admin/orders\" exact component={Orders} />\r\n\t\t\t</Switch>\r\n\t\t</BrowserRouter>\r\n\t)\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default Routes","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// import App from './App';\r\nimport Routes from \"./Routes\"\r\nimport \"./colourChanger.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Routes />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}